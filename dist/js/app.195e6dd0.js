(function(){"use strict";var t={4356:function(t,e,o){var n=o(5130),l=o(6768);const i={id:"root"},s={style:{margin:"15rem auto 0"}},d={class:"todo-wrap"},a={class:"router-link"};function r(t,e,o,n,r,u){const c=(0,l.g2)("TodoInput"),h=(0,l.g2)("router-link"),p=(0,l.g2)("router-view"),k=(0,l.g2)("TodoContent");return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.Lk)("div",s,[(0,l.bF)(c),(0,l.Lk)("div",d,[(0,l.Lk)("div",a,[(0,l.bF)(h,{to:"/IsAll"},{default:(0,l.k6)((()=>[(0,l.eW)("全部")])),_:1}),(0,l.bF)(h,{to:"/IsDoing"},{default:(0,l.k6)((()=>[(0,l.eW)("處理中")])),_:1}),(0,l.bF)(h,{to:"/IsDone"},{default:(0,l.k6)((()=>[(0,l.eW)("已完成")])),_:1})]),(0,l.bF)(p),(0,l.bF)(k)])])])}const u={class:"toto-input bg-white d-flex justify-content-between my-4 rounded shadow"},c=(0,l.Lk)("i",{class:"plus"},null,-1),h=[c];function p(t,e,o,i,s,d){return(0,l.uX)(),(0,l.CE)("form",u,[(0,l.bo)((0,l.Lk)("input",{type:"text",placeholder:"新增待辦事項...",class:"border-0 p-4 w-100 no-outline rounded","onUpdate:modelValue":e[0]||(e[0]=t=>s.title=t),onKeyup:e[1]||(e[1]=(0,n.jR)(((...t)=>d.add&&d.add(...t)),["enter"]))},null,544),[[n.Jo,s.title]]),(0,l.Lk)("button",{class:"btn btn-add",onClick:e[2]||(e[2]=t=>d.add(s.title))},h)])}var k=o(5588),m={name:"TodoInput",data(){return{title:""}},methods:{add(){if(!this.title.trim())return alert("輸入欄不能是空值!");const t={id:(0,k.Ak)(),title:this.title,completed_at:!1,isEdit:!1};this.$store.commit("addTodo",t),this.title=""}}},f=o(1241);const b=(0,f.A)(m,[["render",p]]);var v=b,L=o(4232);const g={class:"todo-footer p-3 d-flex justify-content-between align-items-center list-footer fs-7"};function C(t,e,o,i,s,d){return(0,l.uX)(),(0,l.CE)("div",g,[(0,l.Lk)("label",null,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>d.isAll=t)},null,512),[[n.lH,d.isAll]])]),(0,l.Lk)("span",null,[(0,l.Lk)("span",null,"已完成"+(0,L.v_)(d.doneTotal)+"項",1),(0,l.eW)(" / 全部"+(0,L.v_)(d.total)+"項 ",1)]),(0,l.Lk)("button",{class:"btn btn-danger",onClick:e[1]||(e[1]=(...t)=>d.clearAll&&d.clearAll(...t))},"清除已完成事項")])}var E=o(782),T={name:"TodoContent",computed:{...(0,E.aH)(["todos"]),total(){return this.todos.length},doneTotal(){return this.todos.reduce(((t,e)=>t+(e.completed_at?1:0)),0)},isAll:{get(){return this.doneTotal===this.total&&this.total>0},set(t){this.$store.commit("checkAllTodo",t)}}},methods:{clearAll(){this.$store.commit("clearAllTodo")}}};const y=(0,f.A)(T,[["render",C]]);var I=y,_={name:"App",components:{TodoInput:v,TodoContent:I},data(){},computed:{...(0,E.aH)(["todos"])},watch:{todos:{deep:!0,handler(t){localStorage.setItem("todos",JSON.stringify(t))}}}};const A=(0,f.A)(_,[["render",r]]);var x=A,D=(o(4114),(0,E.y$)({state:{todos:JSON.parse(localStorage.getItem("todos"))||[]},getters:{todoIndex(){return"111"}},mutations:{addTodo(t,e){t.todos.push(e)},checkTodo(t,e){t.todos.forEach((t=>{t.id===e&&(t.completed_at=!t.completed_at)}))},updateTodo(t,e){t.todos.forEach((t=>{t.id===e.id&&(t.title=e.title)}))},deleteTodo(t,e){t.todos=t.todos.filter((t=>t.id!==e))},checkAllTodo(t,e){t.todos.forEach((t=>{t.completed_at=e}))},clearAllTodo(t){t.todos=t.todos.filter((t=>!t.completed_at))}},actions:{},modules:{}})),$=o(1387);const w={class:"todo-main"},F=(0,l.Lk)("p",{style:{"text-align":"center"}},"尚無待辦事項",-1),O=[F];function X(t,e,o,i,s,d){const a=(0,l.g2)("IsItem");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("ul",w,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.todos,(t=>((0,l.uX)(),(0,l.Wv)(a,{key:t.id,todo:t},null,8,["todo"])))),128))]),(0,l.bo)((0,l.Lk)("div",null,O,512),[[n.aG,0==t.todos.length]])],64)}const B=["checked"],G=["value"],j=(0,l.Lk)("i",{class:"bi bi-pen"},null,-1),H=[j],K=(0,l.Lk)("i",{class:"bi bi-trash"},null,-1),W=[K];function S(t,e,o,i,s,d){return(0,l.uX)(),(0,l.CE)("li",null,[(0,l.Lk)("label",null,[(0,l.Lk)("input",{type:"checkbox",checked:o.todo.completed_at,onChange:e[0]||(e[0]=t=>d.handleCheck(o.todo.id))},null,40,B),(0,l.bo)((0,l.Lk)("span",null,(0,L.v_)(o.todo.title),513),[[n.aG,!o.todo.isEdit]]),(0,l.bo)((0,l.Lk)("input",{type:"text",value:o.todo.title,onBlur:e[1]||(e[1]=t=>d.handleBlur(o.todo,t)),ref:"inputTitle"},null,40,G),[[n.aG,o.todo.isEdit]])]),(0,l.bo)((0,l.Lk)("button",{class:"btn btn-edit",onClick:e[2]||(e[2]=t=>d.handleEdit(o.todo))},H,512),[[n.aG,!o.todo.isEdit]]),(0,l.Lk)("button",{class:"btn btn-trash",onClick:e[3]||(e[3]=t=>d.handleDelete(o.todo.id))},W)])}var J={name:"IsItem",props:["todo"],methods:{handleCheck(t){this.$store.commit("checkTodo",t)},handleDelete(t){confirm("確定刪除嗎?")&&this.$store.commit("deleteTodo",t)},handleEdit(t){t.isEdit=!0,this.$nextTick((function(){this.$refs.inputTitle.focus()}))},handleBlur(t,e){if(t.isEdit=!1,!e.target.value.trim())return alert("輸入不能是空白的!");this.$store.commit("updateTodo",{id:t.id,title:e.target.value})}}};const N=(0,f.A)(J,[["render",S]]);var P=N,U={name:"IsAll",components:{IsItem:P},computed:{...(0,E.aH)(["todos"])}};const V=(0,f.A)(U,[["render",X]]);var M=V;const R={class:"todo-main"},q=["checked","onChange"],z=["value","onBlur"],Q=["onClick"],Y=(0,l.Lk)("i",{class:"bi bi-pen"},null,-1),Z=[Y],tt=["onClick"],et=(0,l.Lk)("i",{class:"bi bi-trash"},null,-1),ot=[et],nt=(0,l.Lk)("p",{style:{"text-align":"center"}},"尚無已完成事項",-1),lt=[nt];function it(t,e,o,i,s,d){return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("ul",R,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(d.isDoingList,(t=>((0,l.uX)(),(0,l.CE)("li",{key:t.id},[(0,l.Lk)("label",null,[(0,l.Lk)("input",{type:"checkbox",checked:t.completed_at,onChange:e=>d.handleCheck(t.id)},null,40,q),(0,l.bo)((0,l.Lk)("span",null,(0,L.v_)(t.title),513),[[n.aG,!t.isEdit]]),(0,l.bo)((0,l.Lk)("input",{type:"text",value:t.title,onBlur:e=>d.handleBlur(t,e),ref_for:!0,ref:"inputTitle"},null,40,z),[[n.aG,t.isEdit]])]),(0,l.bo)((0,l.Lk)("button",{class:"btn btn-edit",onClick:e=>d.handleEdit(t)},Z,8,Q),[[n.aG,!t.isEdit]]),(0,l.Lk)("button",{class:"btn btn-trash",onClick:e=>d.handleDelete(t.id)},ot,8,tt)])))),128))]),(0,l.bo)((0,l.Lk)("div",null,lt,512),[[n.aG,0==d.isDoingList.length]])],64)}var st={name:"IsDoing",computed:{...(0,E.aH)(["todos"]),isDoingList(){return this.todos.filter((t=>!t.completed_at))}},methods:{handleCheck(t){this.$store.commit("checkTodo",t)},handleDelete(t){confirm("確定刪除嗎?")&&this.$store.commit("deleteTodo",t)},handleEdit(t){t.isEdit=!0,this.$nextTick((function(){this.$refs.inputTitle.focus()}))},handleBlur(t,e){if(t.isEdit=!1,!e.target.value.trim())return alert("輸入不能是空白的!");this.$store.commit("updateTodo",{id:t.id,title:e.target.value})}}};const dt=(0,f.A)(st,[["render",it]]);var at=dt;const rt={class:"todo-main"},ut=["checked","onChange"],ct=["value","onBlur"],ht=["onClick"],pt=(0,l.Lk)("i",{class:"bi bi-pen"},null,-1),kt=[pt],mt=["onClick"],ft=(0,l.Lk)("i",{class:"bi bi-trash"},null,-1),bt=[ft],vt=(0,l.Lk)("p",{style:{"text-align":"center"}},"尚無已完成事項",-1),Lt=[vt];function gt(t,e,o,i,s,d){return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("ul",rt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(d.isDoneList,(t=>((0,l.uX)(),(0,l.CE)("li",{key:t.id},[(0,l.Lk)("label",null,[(0,l.Lk)("input",{type:"checkbox",checked:t.completed_at,onChange:e=>d.handleCheck(t.id)},null,40,ut),(0,l.bo)((0,l.Lk)("span",null,(0,L.v_)(t.title),513),[[n.aG,!t.isEdit]]),(0,l.bo)((0,l.Lk)("input",{type:"text",value:t.title,onBlur:e=>d.handleBlur(t,e),ref_for:!0,ref:"inputTitle"},null,40,ct),[[n.aG,t.isEdit]])]),(0,l.bo)((0,l.Lk)("button",{class:"btn btn-edit",onClick:e=>d.handleEdit(t)},kt,8,ht),[[n.aG,!t.isEdit]]),(0,l.Lk)("button",{class:"btn btn-trash",onClick:e=>d.handleDelete(t.id)},bt,8,mt)])))),128))]),(0,l.bo)((0,l.Lk)("div",null,Lt,512),[[n.aG,0==d.isDoneList.length]])],64)}var Ct={name:"IsDone",computed:{...(0,E.aH)(["todos"]),isDoneList(){return this.todos.filter((t=>t.completed_at))}},methods:{handleCheck(t){this.$store.commit("checkTodo",t)},handleDelete(t){confirm("確定刪除嗎?")&&this.$store.commit("deleteTodo",t)},handleEdit(t){t.isEdit=!0,this.$nextTick((function(){this.$refs.inputTitle.focus()}))},handleBlur(t,e){if(t.isEdit=!1,!e.target.value.trim())return alert("輸入不能是空白的!");this.$store.commit("updateTodo",{id:t.id,title:e.target.value})}}};const Et=(0,f.A)(Ct,[["render",gt]]);var Tt=Et;const yt=[{path:"/",name:"Home",component:M},{path:"/IsAll",name:"IsAll",component:M},{path:"/IsDoing",name:"IsDoing",component:at},{path:"/IsDone",name:"IsDone",component:Tt}],It=(0,$.aE)({history:(0,$.Bt)(),routes:yt});var _t=It;(0,n.Ef)(x).use(_t).use(D).mount("#app")}},e={};function o(n){var l=e[n];if(void 0!==l)return l.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,n,l,i){if(!n){var s=1/0;for(u=0;u<t.length;u++){n=t[u][0],l=t[u][1],i=t[u][2];for(var d=!0,a=0;a<n.length;a++)(!1&i||s>=i)&&Object.keys(o.O).every((function(t){return o.O[t](n[a])}))?n.splice(a--,1):(d=!1,i<s&&(s=i));if(d){t.splice(u--,1);var r=l();void 0!==r&&(e=r)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,l,i]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var l,i,s=n[0],d=n[1],a=n[2],r=0;if(s.some((function(e){return 0!==t[e]}))){for(l in d)o.o(d,l)&&(o.m[l]=d[l]);if(a)var u=a(o)}for(e&&e(n);r<s.length;r++)i=s[r],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(u)},n=self["webpackChunktodo_list"]=self["webpackChunktodo_list"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(4356)}));n=o.O(n)})();
//# sourceMappingURL=app.195e6dd0.js.map